<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BES - Compulsão Alimentar | Caderno Incrível</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Paleta Lúdica */
            --bg-color: #f0f8ff;
            --paper: #ffffff;
            --primary: #e84393; /* Rosa Choque Suave */
            --secondary: #00b894; /* Verde Menta */
            --accent: #fdcb6e; /* Amarelo Creme */
            --text: #2d3436;
            --shadow: rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#dfe6e9 2px, transparent 2px);
            background-size: 20px 20px;
            margin: 0;
            padding: 20px;
            color: var(--text);
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 850px;
            background: var(--paper);
            padding: 40px;
            border-radius: 25px;
            box-shadow: 10px 10px 0 var(--shadow);
            border: 3px solid var(--text);
            position: relative;
        }

        /* CABEÇALHO */
        header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        header::before {
            content: ""; position: absolute; top: -55px; left: 50%; transform: translateX(-50%) rotate(-1deg);
            width: 300px; height: 50px; background-color: rgba(232, 67, 147, 0.8);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        h1 { margin: 0; color: var(--primary); font-size: 2.5rem; text-transform: uppercase; }
        .subtitle { font-size: 1.1rem; color: #636e72; font-weight: bold; margin-bottom: 10px; }

        .instruction-box {
            background: #fff0f6;
            padding: 20px;
            border-radius: 15px;
            border: 2px dashed var(--primary);
            font-size: 0.95rem;
            color: #555;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* CARTÃO DE GRUPO */
        .group-card {
            background: #fff;
            margin-bottom: 30px;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #dfe6e9;
            box-shadow: 0 5px 0 rgba(0,0,0,0.05);
            page-break-inside: avoid;
        }

        .group-title {
            background: var(--secondary);
            color: white;
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 15px;
            text-transform: uppercase;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }

        /* OPÇÕES DE RESPOSTA (RADIO LIST) */
        .option-label {
            display: block;
            padding: 12px 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            line-height: 1.4;
        }

        .option-label:hover { background: #eaf2f8; border-color: #b2bec3; }

        /* Estilo Selecionado */
        .option-label:has(input:checked) {
            background-color: #ffeaa7;
            border-color: #fdcb6e;
            color: #d35400;
            font-weight: bold;
            transform: scale(1.01);
            box-shadow: 0 4px 0 rgba(0,0,0,0.05);
        }

        input[type="radio"] { margin-right: 10px; transform: scale(1.3); accent-color: var(--primary); }

        /* BOTÃO CALCULAR */
        .btn-action {
            display: block; width: 100%;
            margin-top: 40px; padding: 15px;
            background-color: var(--primary); color: white;
            border: none; border-radius: 50px;
            font-size: 1.3rem; font-weight: bold; font-family: inherit;
            cursor: pointer; box-shadow: 0 6px 0 #c23616;
            transition: transform 0.1s;
        }
        .btn-action:hover { transform: translateY(-3px); }

        /* ÁREA DE RESULTADOS */
        .result-section {
            display: none;
            margin-top: 50px;
            background: #fff;
            padding: 30px;
            border-radius: 20px;
            border: 3px solid var(--text);
            text-align: center;
        }

        .score-display { font-size: 3.5rem; font-weight: 800; color: var(--primary); margin: 10px 0; }
        .score-meaning { font-size: 1.5rem; font-weight: bold; padding: 10px; border-radius: 10px; display: inline-block; }
        
        .level-low { background: #55efc4; color: #006266; }
        .level-med { background: #ffeaa7; color: #d35400; }
        .level-high { background: #ff7675; color: #630000; }

        @media print {
            body { background: white; padding: 0; }
            .container { box-shadow: none; border: none; width: 100%; }
            .btn-action { display: none; }
            .group-card { border: 1px solid #ccc; break-inside: avoid; }
            .option-label { border: 1px solid #eee; }
            .option-label:has(input:checked) { background: #ddd !important; border: 2px solid black; }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>BES</h1>
            <div class="subtitle">Escala de Compulsão Alimentar Periódica</div>
        </header>

        <div class="instruction-box">
            <i class="fa-solid fa-circle-info"></i> <strong>Instruções:</strong><br>
            Abaixo estão grupos de afirmações numeradas.<br>
            Leia todas as opções de cada grupo e marque <strong>aquela que melhor descreve</strong> como você se sente em relação à sua alimentação.
        </div>

        <form id="bes-form">
            <div id="questions-container"></div>
        </form>

        <button class="btn-action" type="button" onclick="calculateResults()">
            <i class="fa-solid fa-utensils"></i> CALCULAR RESULTADO
        </button>

        <div class="result-section" id="result-area">
            <h3>PONTUAÇÃO TOTAL</h3>
            <div class="score-display" id="total-score">0</div>
            <div class="score-meaning" id="interpretation">...</div>
            <p style="margin-top: 20px; font-size: 0.9rem; color: #666;">
                ≤ 17: Sem compulsão | 18-29: Compulsão Moderada | ≥ 30: Compulsão Grave
            </p>
            
            <button class="btn-action" style="background:var(--secondary); margin-top:30px;" onclick="window.print()">
                <i class="fa-solid fa-print"></i> SALVAR RELATÓRIO
            </button>
        </div>
    </div>

    <script>
        // DADOS DO BES (Pesos exatos conforme Manual Gormally)
        const questions = [
            {
                id: 1,
                options: [
                    { t: "Eu não me sinto constrangido(a) com o meu peso ou o tamanho do meu corpo quando estou com outras pessoas.", w: 0 },
                    { t: "Eu me sinto preocupado(a) em como pareço para os outros, mas isto, normalmente, não me faz sentir desapontado(a) comigo mesmo(a).", w: 0 },
                    { t: "Eu fico mesmo constrangido(a) com a minha aparência e o meu peso, o que me faz sentir desapontado(a) comigo mesmo(a).", w: 1 },
                    { t: "Eu me sinto muito constrangido(a) com o meu peso e, freqüentemente, sinto muita vergonha e desprezo por mim mesmo(a). Tento evitar contatos sociais por causa desse constrangimento.", w: 3 }
                ]
            },
            {
                id: 2,
                options: [
                    { t: "Eu não tenho nenhuma dificuldade para comer devagar, de maneira apropriada.", w: 0 },
                    { t: "Embora pareça que eu devore os alimentos, não acabo me sentindo empanturrado(a) por comer demais.", w: 1 },
                    { t: "Às vezes tendo a comer rapidamente, sentindo-me então desconfortavelmente cheio(a) depois.", w: 2 },
                    { t: "Eu tenho o hábito de engolir minha comida sem realmente mastigá-la. Quando isto acontece, em geral me sinto desconfortavelmente empanturrado(a) por ter comido demais.", w: 3 }
                ]
            },
            {
                id: 3,
                options: [
                    { t: "Eu me sinto capaz de controlar meus impulsos para comer, quando eu quero.", w: 0 },
                    { t: "Eu sinto que tenho falhado em controlar meu comportamento alimentar mais do que a média das pessoas.", w: 1 },
                    { t: "Eu me sinto totalmente incapaz de controlar meus impulsos para comer.", w: 2 },
                    { t: "Por me sentir tão incapaz de controlar meu comportamento alimentar, entro em desespero tentando manter o controle.", w: 3 }
                ]
            },
            {
                id: 4,
                options: [
                    { t: "Eu não tenho o hábito de comer quando estou chateado(a).", w: 0 },
                    { t: "Às vezes eu como quando estou chateado(a) mas, freqüentemente, sou capaz de me ocupar e afastar minha mente da comida.", w: 0 },
                    { t: "Eu tenho o hábito regular de comer quando estou chateado(a) mas, de vez em quando, posso usar alguma outra atividade para afastar minha mente da comida.", w: 2 },
                    { t: "Eu tenho o forte hábito de comer quando estou chateado(a). Nada parece me ajudar a parar com esse hábito.", w: 3 }
                ]
            },
            {
                id: 5,
                options: [
                    { t: "Normalmente quando como alguma coisa é porque estou fisicamente com fome.", w: 0 },
                    { t: "De vez em quando como alguma coisa por impulso, mesmo quando não estou realmente com fome.", w: 1 },
                    { t: "Eu tenho o hábito regular de comer alimentos que realmente não aprecio para satisfazer uma sensação de fome, mesmo que fisicamente eu não necessite de comida.", w: 2 },
                    { t: "Mesmo que não esteja fisicamente com fome, tenho uma sensação de fome em minha boca que somente parece ser satisfeita quando eu como um alimento... Às vezes cuspo para não ganhar peso.", w: 3 }
                ]
            },
            {
                id: 6,
                options: [
                    { t: "Eu não sinto qualquer culpa ou ódio de mim mesmo(a) depois de comer demais.", w: 0 },
                    { t: "De vez em quando sinto culpa ou ódio de mim mesmo(a) depois de comer demais.", w: 1 },
                    { t: "Quase o tempo todo sinto muita culpa ou ódio de mim mesmo(a) depois de comer demais.", w: 3 }
                ]
            },
            {
                id: 7,
                options: [
                    { t: "Eu não perco o controle total da minha alimentação quando estou em dieta, mesmo após períodos em que como demais.", w: 0 },
                    { t: "Às vezes, quando estou em dieta e como um alimento proibido, sinto como se tivesse estragado tudo e como ainda mais.", w: 0 },
                    { t: "Freqüentemente, quando como demais durante uma dieta, tenho o hábito de dizer para mim mesmo(a): 'agora que estraguei tudo, porque não irei até o fim'. Quando isto acontece, eu como ainda mais.", w: 2 },
                    { t: "Eu tenho o hábito regular de começar dietas rigorosas por mim mesmo(a), mas quebro as dietas entrando numa compulsão alimentar. Minha vida parece ser 'uma festa' ou 'um morrer de fome'.", w: 3 }
                ]
            },
            {
                id: 8,
                options: [
                    { t: "Eu raramente como tanta comida a ponto de me sentir desconfortavelmente empanturrado(a) depois.", w: 0 },
                    { t: "Normalmente, cerca de uma vez por mês, como uma tal quantidade de comida que acabo me sentindo muito empanturrado(a).", w: 1 },
                    { t: "Eu tenho períodos regulares durante o mês, quando como grandes quantidades de comida, seja na hora das refeições, seja nos lanches.", w: 2 },
                    { t: "Eu como tanta comida que, regularmente, me sinto bastante desconfortável depois de comer e, algumas vezes, um pouco enjoado(a).", w: 3 }
                ]
            },
            {
                id: 9,
                options: [
                    { t: "Em geral, minha ingesta calórica não sobe a níveis muito altos, nem desce a níveis muito baixos.", w: 0 },
                    { t: "Às vezes, depois de comer demais, tento reduzir minha ingesta calórica para quase nada, para compensar o excesso de calorias que ingeri.", w: 1 },
                    { t: "Eu tenho o hábito regular de comer demais durante a noite. Parece que a minha rotina não é estar com fome de manhã, mas comer demais à noite.", w: 2 },
                    { t: "Na minha vida adulta tenho tido períodos, que duram semanas, nos quais praticamente me mato de fome. Isto se segue a períodos em que como demais.", w: 3 }
                ]
            },
            {
                id: 10,
                options: [
                    { t: "Normalmente eu sou capaz de parar de comer quando quero. Eu sei quando 'já chega'.", w: 0 },
                    { t: "De vez em quando, eu tenho uma compulsão para comer que parece que não posso controlar.", w: 1 },
                    { t: "Freqüentemente tenho fortes impulsos para comer que parece que não sou capaz de controlar, mas, em outras ocasiões, posso controlar meus impulsos para comer.", w: 2 },
                    { t: "Eu me sinto incapaz de controlar impulsos para comer. Eu tenho medo de não ser capaz de parar de comer por vontade própria.", w: 3 }
                ]
            },
            {
                id: 11,
                options: [
                    { t: "Eu não tenho problema algum para parar de comer quando me sinto cheio(a).", w: 0 },
                    { t: "Eu, normalmente, posso parar de comer quando me sinto cheio(a) mas, de vez em quando, comer demais me deixa desconfortavelmente empanturrado(a).", w: 1 },
                    { t: "Eu tenho um problema para parar de comer uma vez que eu tenha começado e, normalmente, sinto-me desconfortavelmente empanturrado(a) depois que faço uma refeição.", w: 2 },
                    { t: "Por eu ter o problema de não ser capaz de parar de comer quando quero, às vezes tenho que provocar o vômito, usar laxativos e/ou diuréticos para aliviar minha sensação de empanturramento.", w: 3 }
                ]
            },
            {
                id: 12,
                options: [
                    { t: "Parece que eu como tanto quando estou com os outros (reuniões familiares, sociais), como quando estou sozinho(a).", w: 0 },
                    { t: "Às vezes, quando eu estou com outras pessoas, não como tanto quanto eu quero comer porque me sinto constrangido(a) com o meu comportamento alimentar.", w: 1 },
                    { t: "Freqüentemente eu como só uma pequena quantidade de comida quando outros estão presentes, pois me sinto muito embaraçado(a) com o meu comportamento alimentar.", w: 2 },
                    { t: "Eu me sinto tão envergonhado(a) por comer demais que escolho horas para comer demais quando sei que ninguém me verá. Eu me sinto como uma pessoa que se esconde para comer.", w: 3 }
                ]
            },
            {
                id: 13,
                options: [
                    { t: "Eu faço três refeições ao dia com apenas um lanche ocasional entre as refeições.", w: 0 },
                    { t: "Eu faço três refeições ao dia mas, normalmente, também lancho entre as refeições.", w: 1 },
                    { t: "Quando eu faço lanches pesados, tenho o hábito de pular as refeições regulares.", w: 2 },
                    { t: "Há períodos regulares em que parece que eu estou continuamente comendo, sem refeições planejadas.", w: 3 }
                ]
            },
            {
                id: 14,
                options: [
                    { t: "Eu não penso muito em tentar controlar impulsos indesejáveis para comer.", w: 0 },
                    { t: "Pelo menos, em algum momento, sinto que meus pensamentos estão 'pré-ocupados' com tentar controlar meus impulsos para comer.", w: 1 },
                    { t: "Freqüentemente, sinto que gasto muito tempo pensando no quanto comi ou tentando não comer mais.", w: 2 },
                    { t: "Parece, para mim, que a maior parte das horas que passo acordado(a) estão 'pré-ocupadas' por pensamentos sobre comer ou não comer.", w: 3 }
                ]
            },
            {
                id: 15,
                options: [
                    { t: "Eu não penso muito sobre comida.", w: 0 },
                    { t: "Eu tenho fortes desejos por comida, mas eles só duram curtos períodos de tempo.", w: 1 },
                    { t: "Há dias em que parece que eu não posso pensar em mais nada a não ser comida.", w: 2 },
                    { t: "Na maioria dos dias, meus pensamentos parecem estar 'pré-ocupados' com comida. Sinto como se eu vivesse para comer.", w: 3 }
                ]
            },
            {
                id: 16,
                options: [
                    { t: "Eu normalmente sei se estou ou não fisicamente com fome. Eu como a porção certa de comida para me satisfazer.", w: 0 },
                    { t: "De vez em quando eu me sinto em dúvida para saber se estou ou não fisicamente com fome. Nessas ocasiões é difícil saber quanto eu deveria comer para me satisfazer.", w: 1 },
                    { t: "Mesmo que se eu pudesse saber quantas calorias eu deveria ingerir, não teria idéia alguma de qual seria a quantidade 'normal' de comida para mim.", w: 2 }
                ]
            }
        ];

        const container = document.getElementById('questions-container');

        // GERAR PERGUNTAS
        questions.forEach((q, index) => {
            const card = document.createElement('div');
            card.className = 'group-card';
            
            // Badge do Grupo
            card.innerHTML = `<div class="group-title">Grupo #${q.id}</div>`;

            // Opções
            q.options.forEach((opt, optIndex) => {
                const label = document.createElement('label');
                label.className = 'option-label';
                
                label.innerHTML = `
                    <input type="radio" name="g${index}" value="${opt.w}" onchange="updateTotal()">
                    ${opt.t}
                `;
                card.appendChild(label);
            });

            container.appendChild(card);
        });

        // CALCULAR
        function calculateResults() {
            let total = 0;
            let answered = 0;
            const form = document.getElementById('bes-form');
            const formData = new FormData(form);

            for (let pair of formData.entries()) {
                total += parseInt(pair[1]);
                answered++;
            }

            if (answered < questions.length) {
                alert(`Você respondeu apenas ${answered} de ${questions.length} grupos. Por favor, responda a todos para um resultado preciso.`);
                return;
            }

            // Exibir Resultados
            const scoreDisplay = document.getElementById('total-score');
            const interpretation = document.getElementById('interpretation');
            const resultArea = document.getElementById('result-area');

            scoreDisplay.innerText = total;

            // Classificação (Baseada no PDF)
            if (total <= 17) {
                interpretation.innerText = "Sem Compulsão Alimentar";
                interpretation.className = "score-meaning level-low";
            } else if (total <= 29) {
                interpretation.innerText = "Compulsão Alimentar Moderada";
                interpretation.className = "score-meaning level-med";
            } else {
                interpretation.innerText = "Compulsão Alimentar Grave";
                interpretation.className = "score-meaning level-high";
            }

            resultArea.style.display = 'block';
            resultArea.scrollIntoView({ behavior: 'smooth' });
        }

        // Função auxiliar para atualizar se quiser feedback em tempo real
        function updateTotal() {
            // Pode ser usada para mostrar barra de progresso se desejar
        }
    </script>

</body>
</html>
