<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RMH-22 - Escala de Resiliência | Bruno de Souza</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            /* Identidade Visual */
            --bg-color: #f0f8ff;
            --primary: #0984e3;       /* Azul Royal (Resiliência) */
            --primary-dark: #0762ac;
            --accent: #fdcb6e;        /* Amarelo */
            --text: #2d3436;
            --card-border: #b2bec3;
            
            /* Botões */
            --btn-low: #fab1a0;
            --btn-mid: #74b9ff;
            --btn-high: #00b894;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#dfe6e9 2px, transparent 2px);
            background-size: 20px 20px;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: var(--text);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- CABEÇALHO --- */
        header {
            text-align: center;
            margin: 20px auto 40px auto;
            background: white;
            padding: 30px 20px;
            border-radius: 25px;
            border: 3px dashed var(--primary);
            box-shadow: 8px 8px 0 rgba(0,0,0,0.05);
            position: relative;
            max-width: 800px;
            width: 100%;
        }

        header::before {
            content: ""; 
            position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(-1deg);
            width: 140px; height: 35px; 
            background-color: rgba(9, 132, 227, 0.2); 
            border: 1px solid rgba(0,0,0,0.05); 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2rem;
            color: var(--primary);
            text-transform: uppercase;
            margin: 0;
            font-weight: 800;
        }

        .subtitle { margin-top: 5px; color: #636e72; font-weight: 600; }

        .instruction-box {
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            border: 1px solid #dfe6e9;
            text-align: center;
            margin-bottom: 30px;
            font-size: 0.95rem;
            max-width: 800px;
            width: 100%;
            border-left: 5px solid var(--primary);
        }

        /* --- CONTAINER --- */
        .main-container {
            max-width: 850px;
            width: 100%;
            margin-bottom: 80px;
        }

        /* --- CARTÃO DE PERGUNTA --- */
        .question-card {
            background: white;
            border-radius: 20px;
            padding: 20px 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.05);
            border: 2px solid transparent;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .question-card:hover {
            border-color: var(--card-border);
            transform: translateY(-2px);
        }

        .q-header {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .q-number {
            background: var(--bg-color);
            color: var(--primary);
            font-weight: 800;
            min-width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            border: 2px solid var(--primary);
        }

        .q-text {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2d3436;
            line-height: 1.4;
        }

        /* --- BOTÕES DE RESPOSTA --- */
        .options-row {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }

        .option-label {
            padding: 12px 5px;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            font-weight: 700;
            font-size: 0.85rem;
            transition: all 0.2s;
            border: 2px solid #dfe6e9;
            background: #f8f9fa;
            color: #636e72;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .option-label:hover { border-color: var(--primary); color: var(--primary); }

        .option-label:has(input:checked) {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 10px rgba(9, 132, 227, 0.3);
            transform: translateY(-2px);
        }

        input[type="radio"] { display: none; }

        /* --- BOTÃO CALCULAR --- */
        .btn-calc {
            display: block; width: 100%;
            margin-top: 40px; padding: 18px;
            background: var(--primary); color: white;
            border: none; border-radius: 50px;
            font-size: 1.2rem; font-weight: 800;
            cursor: pointer; box-shadow: 0 10px 20px rgba(9, 132, 227, 0.3);
            transition: transform 0.2s;
        }
        .btn-calc:hover { transform: translateY(-3px); background: var(--primary-dark); }

        /* --- RESULTADOS --- */
        .result-section {
            display: none;
            margin-top: 50px;
            background: white;
            border-radius: 25px;
            padding: 40px;
            border: 3px dashed var(--primary);
            text-align: center;
        }

        .score-val { font-size: 3.5rem; font-weight: 800; color: var(--primary); line-height: 1; margin: 10px 0; }
        .score-desc { font-size: 1.2rem; font-weight: 700; color: #636e72; margin-bottom: 20px; }

        .meter-container {
            width: 100%; height: 20px; background: #dfe6e9; border-radius: 10px; overflow: hidden; margin: 20px 0;
        }
        .meter-fill { height: 100%; background: var(--primary); width: 0%; transition: width 1s ease; }

        /* Botão Voltar */
        .btn-back {
            display: inline-block; margin-top: 30px; text-align: center; color: #b2bec3; text-decoration: none; font-weight: 600;
        }
        .btn-back:hover { color: var(--primary); }

        @media (max-width: 600px) {
            .options-row { grid-template-columns: 1fr; gap: 5px; }
            .option-label { flex-direction: row; justify-content: flex-start; padding: 15px; }
            .q-text { font-size: 1rem; }
        }
    </style>
</head>
<body>

    <header data-aos="fade-down">
        <h1>RMH-22</h1>
        <div class="subtitle">Escala de Resiliência</div>
    </header>

    <div class="main-container">
        
        <div class="instruction-box">
            Leia cada afirmação e escolha a opção que melhor descreve como você se sente <strong>a maior parte do tempo</strong>.
        </div>

        <form id="rmhForm">
            <div id="questions-container"></div>
        </form>

        <button class="btn-calc" onclick="calculateResults()">
            <i class="fa-solid fa-chart-line"></i> CALCULAR RESILIÊNCIA
        </button>

        <div class="result-section" id="result-area">
            <h3 style="color:#636e72; text-transform:uppercase;">Pontuação Total</h3>
            <div class="score-val" id="total-score">0</div>
            <div class="score-desc" id="interpretation">...</div>
            
            <div class="meter-container">
                <div class="meter-fill" id="score-meter"></div>
            </div>
            
            <p style="font-size: 0.9rem; color: #b2bec3;">Quanto maior a pontuação, maiores os indicadores de resiliência.</p>

            <button class="btn-calc" style="background:#2d3436; margin-top:30px; font-size:1rem;" onclick="window.print()">
                <i class="fa-solid fa-print"></i> Salvar PDF
            </button>
        </div>

        <center>
            <a href="../listaferramentas.html" class="btn-back"><i class="fa-solid fa-arrow-left"></i> Voltar para Ferramentas</a>
        </center>

    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();

        const questions = [
            "Tenho qualidades que me distinguem positivamente dos outros.",
            "Tenho pelo menos uma relação verdadeira, próxima ou segura que me ajuda quando estou sob stress.",
            "Tenho o controlo da minha vida e não cedo a pressões seja qual for a situação.",
            "Sou capaz de mobilizar os recursos necessários para ultrapassar positivamente as adversidades.",
            "Sou capaz de tomar decisões impopulares ou difíceis quando acredito serem as mais corretas.",
            "Sou capaz de me manter sereno/calmo perante uma situação de stress.",
            "Sob pressão, sou capaz de tomar decisões com confiança e empenho.",
            "Quando preciso sei onde procurar ajuda.",
            "Não me deixo levar impulsivamente pela experiência de uma emoção.",
            "Na resolução dos problemas prefiro ser eu a liderar.",
            "Estabeleço, facilmente, relação com as pessoas.",
            "Enfrento os períodos de tensão sem me fazer passar por vítima. Eles fazem parte da vida.",
            "Em situação de tensão sou capaz de me manter a pensar claramente.",
            "Tenho controlo das minhas emoções e dos meus impulsos.",
            "Consigo sentir o que uma pessoa sente durante uma experiência.",
            "Consigo identificar a causa dos problemas e das adversidades presentes numa dada situação.",
            "Consigo compreender as emoções e sentimentos no outro.",
            "Adapto-me às mudanças e recupero rapidamente o equilíbrio psicológico depois de ter sofrido uma perturbação.",
            "Adapto-me às mudanças e recupero rapidamente o equilíbrio físico depois de ter sofrido uma perturbação.",
            "Acredito que todas as coisas têm um lado positivo.",
            "Consigo manter o foco nos meus objetivos mesmo diante de dificuldades.",
            "Sinto que sou capaz de lidar com qualquer coisa que aconteça."
        ];

        // Opções de 1 a 5 (Escala Likert comum em apps, ajustável se precisar ser 0-4)
        const options = [
            { val: 1, text: "Nunca" },
            { val: 2, text: "Poucas vezes" },
            { val: 3, text: "Às vezes" },
            { val: 4, text: "Muitas vezes" },
            { val: 5, text: "Sempre" }
        ];

        const container = document.getElementById('questions-container');

        questions.forEach((q, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            card.setAttribute('data-aos', 'fade-up');

            let optionsHTML = '';
            options.forEach(opt => {
                optionsHTML += `
                    <label class="option-label">
                        <input type="radio" name="q${index}" value="${opt.val}" onchange="calculateScore()">
                        ${opt.text}
                    </label>
                `;
            });

            card.innerHTML = `
                <div class="q-header">
                    <div class="q-number">${index + 1}</div>
                    <div class="q-text">${q}</div>
                </div>
                <div class="options-row">${optionsHTML}</div>
            `;
            container.appendChild(card);
        });

        function calculateScore() {
            // Apenas para efeito visual ou validação, o cálculo real é no botão
        }

        function calculateResults() {
            let total = 0;
            let answered = 0;
            const form = document.getElementById('rmhForm');
            const formData = new FormData(form);

            for (let pair of formData.entries()) {
                total += parseInt(pair[1]);
                answered++;
            }

            if (answered < questions.length) {
                alert(`Você respondeu apenas ${answered} de ${questions.length} itens. Por favor, responda a todos.`);
                return;
            }

            const scoreDisplay = document.getElementById('total-score');
            const resultArea = document.getElementById('result-area');
            const interpretation = document.getElementById('interpretation');
            const meter = document.getElementById('score-meter');

            scoreDisplay.innerText = total;
            
            // Cálculo de percentual para a barra (Máximo teórico 5 * 22 = 110)
            const percent = (total / (questions.length * 5)) * 100;
            meter.style.width = `${percent}%`;

            // Interpretação Genérica (Ajustar conforme manual específico se tiver pontos de corte)
            if (percent < 50) {
                interpretation.innerText = "Baixa Resiliência";
                interpretation.style.color = "#e17055";
            } else if (percent < 75) {
                interpretation.innerText = "Resiliência Moderada";
                interpretation.style.color = "#fdcb6e";
            } else {
                interpretation.innerText = "Alta Resiliência";
                interpretation.style.color = "#00b894";
            }

            resultArea.style.display = 'block';
            resultArea.scrollIntoView({ behavior: 'smooth' });
        }
    </script>

</body>
</html>
