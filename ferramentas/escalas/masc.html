<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MASC - Escala de Ansiedade | Bruno de Souza</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            /* Identidade Visual */
            --bg-color: #fff8e1;      /* Fundo Amarelo Claro */
            --primary: #ff9f43;       /* Laranja */
            --primary-dark: #e67e22;
            --text: #2d3436;
            --card-border: #b2bec3;
            
            /* Cores dos Botões */
            --btn-0: #81ecec;
            --btn-1: #74b9ff;
            --btn-2: #fdcb6e;
            --btn-3: #ff7675;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#ffeaa7 2px, transparent 2px);
            background-size: 20px 20px;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: var(--text);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- CABEÇALHO (Estilo Fita Adesiva) --- */
        header {
            text-align: center;
            margin: 20px auto 40px auto;
            background: white;
            padding: 30px 20px;
            border-radius: 25px;
            border: 3px dashed var(--primary);
            box-shadow: 8px 8px 0 rgba(0,0,0,0.05);
            position: relative;
            max-width: 800px;
            width: 100%;
        }

        header::before {
            content: ""; 
            position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(-2deg);
            width: 140px; height: 35px; 
            background-color: rgba(255, 159, 67, 0.3); 
            border: 1px solid rgba(0,0,0,0.05); 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2rem;
            color: var(--primary-dark);
            text-transform: uppercase;
            margin: 0;
            font-weight: 800;
        }

        .subtitle { margin-top: 5px; color: #636e72; font-weight: 600; }

        /* Botão Imprimir */
        .btn-print {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: 2px solid var(--primary);
            color: var(--primary-dark);
            padding: 8px 15px;
            border-radius: 20px;
            font-family: inherit;
            font-weight: 700;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .btn-print:hover {
            background: var(--primary);
            color: white;
        }

        /* --- CONTAINER PRINCIPAL --- */
        .main-container {
            max-width: 850px;
            width: 100%;
            margin-bottom: 80px;
        }

        /* --- CARTÃO DE PERGUNTA --- */
        .question-card {
            background: white;
            border-radius: 20px;
            padding: 20px 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.05);
            border: 2px solid transparent;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            gap: 15px;
            page-break-inside: avoid;
        }

        .question-card:hover {
            border-color: var(--card-border);
            transform: translateY(-2px);
        }

        .q-header {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .q-number {
            background: var(--bg-color);
            color: var(--primary-dark);
            font-weight: 800;
            min-width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            border: 2px solid var(--primary);
        }

        .q-text {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2d3436;
            line-height: 1.4;
        }

        /* --- BOTÕES DE RESPOSTA --- */
        .options-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .option-label {
            padding: 10px 5px;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            font-weight: 700;
            font-size: 0.9rem;
            transition: all 0.2s;
            border: 2px solid transparent;
            background: #f8f9fa;
            color: #636e72;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .opt-num { font-size: 1.2rem; margin-bottom: 2px; }
        .opt-text { font-size: 0.75rem; font-weight: 600; opacity: 0.8; }

        /* Estilos Específicos por Valor */
        .btn-0:hover { background: #e0fcfc; color: #00cec9; border-color: #81ecec; }
        .btn-0:has(input:checked) { background: var(--btn-0); color: #006266; border-color: #00cec9; box-shadow: 0 4px 0 #00cec9; }

        .btn-1:hover { background: #e3f2fd; color: #0984e3; border-color: #74b9ff; }
        .btn-1:has(input:checked) { background: var(--btn-1); color: #fff; border-color: #0984e3; box-shadow: 0 4px 0 #0984e3; }

        .btn-2:hover { background: #fff8e1; color: #e17055; border-color: #fdcb6e; }
        .btn-2:has(input:checked) { background: var(--btn-2); color: #fff; border-color: #e17055; box-shadow: 0 4px 0 #e17055; }

        .btn-3:hover { background: #ffebee; color: #d63031; border-color: #ff7675; }
        .btn-3:has(input:checked) { background: var(--btn-3); color: #fff; border-color: #d63031; box-shadow: 0 4px 0 #d63031; }

        input[type="radio"] { display: none; }

        /* --- BARRA DE RESULTADOS (Fixa) --- */
        .result-bar {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: #2d3436;
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 700;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            display: none;
            z-index: 100;
            border: 2px solid white;
            animation: slideUp 0.3s ease-out;
            white-space: nowrap;
            min-width: 300px;
        }

        /* Área de Score para Impressão (Escondida na tela) */
        #print-score-area {
            display: none;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            border: 2px solid #2d3436;
            padding: 15px;
            text-align: center;
            border-radius: 10px;
            background: #fff;
        }

        @keyframes slideUp {
            from { transform: translate(-50%, 100px); }
            to { transform: translate(-50%, 0); }
        }

        /* Botão Voltar */
        .btn-back {
            display: inline-block; margin-top: 20px; color: #b2bec3; text-decoration: none; font-weight: 600; transition: 0.3s;
        }
        .btn-back:hover { color: var(--primary-dark); }

        @media (max-width: 600px) {
            .q-text { font-size: 1rem; }
            .option-label { padding: 8px 2px; }
            .opt-text { display: none; } /* Esconde texto em telas pequenas para caber */
            .result-bar { width: 90%; padding: 15px; font-size: 1rem; }
            .btn-print span { display: none; }
        }

        /* --- IMPRESSÃO --- */
        @media print {
            body { background: white; color: black; display: block; margin: 0; padding: 10px; }
            header { border: none; box-shadow: none; padding: 0; margin-bottom: 20px; }
            header::before, .btn-print, .btn-back, .result-bar { display: none !important; }
            
            .main-container { max-width: 100%; margin: 0; }
            
            .question-card {
                box-shadow: none; border: 1px solid #ddd;
                padding: 10px; margin-bottom: 10px;
                transform: none !important;
                opacity: 1 !important;
                break-inside: avoid;
                page-break-inside: avoid;
            }

            .option-label { border: 1px solid #ccc; background: white; color: black; padding: 5px; }

            /* Destacar opção selecionada */
            .btn-0:has(input:checked), .btn-1:has(input:checked),
            .btn-2:has(input:checked), .btn-3:has(input:checked) {
                background-color: #ddd !important;
                color: black !important;
                border: 2px solid black !important;
                box-shadow: none !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
                font-weight: bold;
            }

            #print-score-area { display: block; }
        }
    </style>
</head>
<body>

    <header data-aos="fade-down">
        <button class="btn-print" onclick="window.print()">
            <i class="fa-solid fa-print"></i> <span>Imprimir</span>
        </button>

        <h1>MASC - Ansiedade</h1>
        <div class="subtitle">Escala Multidimensional para Crianças</div>

        <div id="print-score-area">
            Pontuação Total: <span id="print-score-val">0</span> | <span id="print-interp-val">Aguardando...</span>
        </div>
    </header>

    <div class="main-container">
        <form id="mascForm">
            <div id="quiz-area"></div>
        </form>

        <center>
            <a href="../listaferramentas.html" class="btn-back"><i class="fa-solid fa-arrow-left"></i> Voltar para Ferramentas</a>
        </center>
    </div>

    <div class="result-bar" id="resultBar">
        <i class="fa-solid fa-calculator"></i> Total: <span id="scoreVal">0</span> | <span id="interpVal">...</span>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();

        const questions = [
            "Eu me sinto tenso ou nervoso",
            "Eu costumo pedir permissão para fazer as coisas",
            "Eu me preocupo que as outras pessoas dêem risada de mim",
            "Eu fico com medo quando os meus pais saem",
            "Sinto falta de ar",
            "Eu fico atento se há algum perigo",
            "A ideia de ficar longe de casa me assusta",
            "Eu fico tremendo ou inquieto",
            "Eu me esforço para obedecer meus pais e professores",
            "Eu tenho medo que os outros meninos (ou meninas) gozem de mim",
            "Eu tento ficar perto da minha mãe ou meu pai",
            "Eu tenho tontura ou sensação de desmaio",
            "Eu verifico as coisas antes de fazê-las",
            "Eu me preocupo em ser chamado na classe",
            "Eu me sinto desassossegado (sobressaltado)",
            "Eu tenho medo que os outros achem que eu sou bobo",
            "Eu deixo as luzes acesas à noite",
            "Eu sinto dores no peito",
            "Eu evito sair sem minha família",
            "Eu me sinto estranho, esquisito, ou fora da realidade",
            "Eu tento fazer coisas que vão agradar aos outros",
            "Eu me preocupo com o que os outros pensam de mim",
            "Eu evito assistir filmes ou programas de TV que assustam",
            "Meu coração dispara ou 'falha'",
            "Eu evito as coisas que me aborrecem",
            "Eu durmo junto de alguém da minha família",
            "Eu me sinto inquieto e nervoso",
            "Eu tento fazer tudo do jeito certo",
            "Eu me preocupo em fazer alguma coisa boba ou que me deixe sem graça",
            "Eu fico com medo quando ando de carro ou de ônibus",
            "Eu sinto mal estar no estômago",
            "Se eu fico aborrecido ou com medo, eu conto logo para alguém",
            "Eu fico nervoso se eu tenho que fazer alguma coisa em público",
            "Tenho medo de tempo ruim, escuridão, altura, animais ou insetos",
            "Minhas mãos tremem",
            "Eu preciso ter certeza que as coisas são seguras",
            "Eu tenho dificuldade em chamar outros meninos (ou meninas) para brincar/sair comigo",
            "Minhas mãos ficam suadas ou frias",
            "Eu sinto vergonha"
        ];

        const options = [
            { val: 0, text: "Nunca" },
            { val: 1, text: "Raramente" },
            { val: 2, text: "Às vezes" },
            { val: 3, text: "Sempre" }
        ];

        const area = document.getElementById('quiz-area');

        questions.forEach((q, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            card.setAttribute('data-aos', 'fade-up');

            let optionsHTML = '';
            options.forEach(opt => {
                optionsHTML += `
                    <label class="option-label btn-${opt.val}">
                        <input type="radio" name="q${index}" value="${opt.val}" onchange="calcTotal()">
                        <span class="opt-num">${opt.val}</span>
                        <span class="opt-text">${opt.text}</span>
                    </label>
                `;
            });

            card.innerHTML = `
                <div class="q-header">
                    <div class="q-number">${index + 1}</div>
                    <div class="q-text">${q}</div>
                </div>
                <div class="options-row">${optionsHTML}</div>
            `;
            area.appendChild(card);
        });

        function calcTotal() {
            let total = 0;
            let count = 0;
            const form = document.getElementById('mascForm');
            const formData = new FormData(form);

            for (let pair of formData.entries()) {
                total += parseInt(pair[1]);
                count++;
            }

            const resultBar = document.getElementById('resultBar');
            const scoreSpan = document.getElementById('scoreVal');
            const interpSpan = document.getElementById('interpVal');
            
            // Elementos de impressão
            const printScore = document.getElementById('print-score-val');
            const printInterp = document.getElementById('print-interp-val');
            
            if (count > 0) {
                resultBar.style.display = 'block';
                scoreSpan.innerText = total;
                printScore.innerText = total;

                let interpText = "";
                let color = "";

                if (total >= 56) {
                    interpText = "⚠️ Tendência à Ansiedade";
                    color = "#ff7675";
                } else {
                    interpText = "✅ Tendência à Normalidade";
                    color = "#55efc4";
                }

                interpSpan.innerText = interpText;
                interpSpan.style.color = color;
                
                printInterp.innerText = interpText; // Sem cor na impressão para economizar
            }
        }
    </script>

</body>
</html>
